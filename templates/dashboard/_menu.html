<style>
  .patients-info-table {
    table-layout: fixed;
  }
</style>

<div class="menu p-3 d-flex flex-column">
  <form class="form-inline d-flex">
    <input class="form-control flex-fill" type="search" placeholder="Search" aria-label="Search">
    <button class="btn btn-primary ml-2" type="submit">
      <i class="fa fa-search" aria-hidden="true"></i>
    </button>
  </form>

  <div id="patients-list" class="list-group">
    <button data-patient-id="1" class="py-1 list-group-item list-group-item-action btn-primary active">Patient 1</button>
    <button data-patient-id="2" class="py-1 list-group-item list-group-item-action btn-primary">Patient 2</button>
    <button data-patient-id="3" class="py-1 list-group-item list-group-item-action btn-primary">Patient 3</button>
    <button data-patient-id="4" class="py-1 list-group-item list-group-item-action btn-primary">Patient 4</button>
    <button data-patient-id="5" class="py-1 list-group-item list-group-item-action btn-primary">Patient 5</button>
  </div>

  <div class="mt-3" id="patients-info">
    <table class="card patients-info-table table table-light" id="patient-details">
      <thead>
        <tr>
          <th class="m-0 p-0">
            <h6 class="m-2">Patient Details</h6>
          </th>
        </tr>
      </thead>
      <tbody>
        <tr class="py-0">
          <th class="py-1" scope="row">Name</th>
          <td class="py-1">John Doe</td>
        </tr>
        <tr class="py-0">
          <th class="py-1" scope="row">Age</th>
          <td class="py-1">23</td>
        </tr>
        <tr class="py-0">
          <th class="py-1" scope="row">Sex</th>
          <td class="py-1">Male</td>
        </tr>
      </tbody>
    </table>

    {% include 'dashboard/activity/_heatmap.html' %}
  </div>
</div>

<script>
  $(document).ready(function () {
    const patientsList = $('#patients-list');
    const buttons = patientsList.find('.list-group-item-action')
    buttons.each((_, btn) => {
      $(btn).click(() => {
        buttons.each((_, el) => el.classList.remove('active'));
        btn.classList.add('active');
        choosePatient($(btn).data('patientId'));
      });
    })
  });
</script>
